<section class="finder-column" data-column="{{ column_index }}" data-path="{{ column.path }}">
  <div class="column-header" data-path="{{ column.path }}" data-is-dir="true">
    <span class="column-title">{{ column.title }}</span>
    {% if column.path != home_path or active_root_above_home %}
    <button
      class="column-root-button {% if column.path == root_path %}is-active{% endif %}"
      type="button"
      title="{% if column.path == root_path %}Reset tab root{% else %}Set as current tab root{% endif %}"
      hx-get="command/set_tab_root"
      hx-target="#main-root"
      hx-swap="outerHTML"
      hx-vals='{"path": {% if column.path == root_path %}{% if root_path == "/" or active_root_under_home %}{{ home_path | json_encode }}{% else %}"/"{% endif %}{% else %}{{ column.path | json_encode }}{% endif %} }'
    >./</button>
    {% endif %}
    <button
      class="column-sort-button"
      type="button"
      title="Toggle sort mode"
      hx-get="command/set_directory_sort"
      hx-target="#main-root"
      hx-swap="outerHTML"
      hx-vals='{"path": {{ column.path | json_encode }}, "mode": {% if column.sort_mode == "recent_first" %}"alphabetical"{% else %}"recent_first"{% endif %} }'
    >
      {% if column.sort_mode == "recent_first" %}Recent{% else %}A-Z{% endif %}
    </button>
  </div>
  <div class="column-body">
    {% set selected_path = column.selected_path %}
    {% for entry in column.entries %}
      {% include "files/_row.html" %}
    {% endfor %}
  </div>
</section>
